/*! BgCover v1.0.0 | (c) 2015 by Eliran Givoni */

!function(t){t.fn.bgCover=function(e){if(e=e||{},0!==this.length){this.data("effect",!0);var i,s,n,a,o,r,h,f,c,d,l,g,u={style:["ease","linear","ease-in","ease-out","ease-in-out"],effects:["flip","fade","slideRight","slideDown"],align_mode:["vertical","horizontal"],visibility_modes:["random","edges"],getInterval:function(){return 1e3*this.getParam("interval",.05)},getParam:function(t,i){return e.hasOwnProperty(t)?e[t]:i||!1},isFunction:function(t){return"function"==typeof this.getParam(t)},use:function(i){this.isFunction(i)&&e[i]({destroy:function(e,i,s){e=e||!1;var n=1e3*f.replace("s","")*1.5,a=t("."+v);e?(i?(m.css("opacity",0),setTimeout(function(){m.remove()},n)):(m.css(y.current.offset),setTimeout(function(){m.css(y.current.style)},n)),a.css(y.box),setTimeout(function(){a.remove(),s()},n)):(i?m.remove():m.css(y.current.style),a.remove(),s()),m.removeData("effect")}})},setEffectType:function(t){return t=u.getParam(t,0),!isNaN(t)&&t>=0&&/^\d+$/.test(t)&&t<this.style.length&&"undefined"!=typeof this.style[t]?this.style[t]:this.style[0]}},m=this,v="be_ground_effect",y={},l=u.getParam("hideInHover",!1);if(l=l&&-1!==t.inArray(l,u.effects)?l:!1,g=u.getParam("flipAlign",u.align_mode[0]),g=t.inArray(g,u.align_mode)?g:u.align_mode[0],g=g==u.align_mode[0]?"rotateX":"rotateY",visibility=u.getParam("visibilityType",!1),visibility=-1!==t.inArray(visibility,u.visibility_modes)?visibility:!1,visEffect=u.getParam("visibilityEffect","fade"),visEffect=-1!==t.inArray(visEffect,u.effects)?visEffect:"fade",i=t(document),i={width:screen.width,height:i.outerHeight()},n={width:isNaN(u.getParam("rows",4))?4:u.getParam("rows",4),height:isNaN(u.getParam("columns",10))?10:u.getParam("columns",10)},s={width:i.width/n.width,height:i.height/n.height},y.current={offset:{top:this.offset().top,left:this.offset().left},style:{top:this.css("top"),left:this.css("left"),zIndex:this.css("zIndex"),position:this.css("position"),transitionDuration:this.css("transition-duration"),transitionTimingFunction:this.css("transition-timing-function")}},this.css({zIndex:1e7,position:"relative"}),u.getParam("messageMode")===!0){var m=this,p=this.offset(),w={x:this.width(),y:this.height()},b=u.getParam("messageEffect",0);b=(!isNaN(b)&&b>=0?b:0)+"s",this.css({transitionDuration:b,transitionTimingFunction:u.setEffectType("messageEffectType"),top:p.top,left:p.left}),setTimeout(function(){m.css({position:"fixed",top:Math.abs(i.height/2-w.y/1.5),left:Math.abs(i.width/2-w.x/2)})})}a={height:0,width:0,time:u.getInterval()},a.time=(/^\d+$/.test(a.time)?a.time:50)/2,d=visibility?1:a.time,r=0,o=u.getParam("bgcolor","rgb(187, 187, 187)");var E=function(){0==a.height&&u.use("onStart"),a.height++,a.width=0;var e=setInterval(function(){a.width++,f=u.getParam("effectDuration",1),f=(!isNaN(f)&&f>=0?f:1)+"s",c=u.getParam("opacity",1),c=!isNaN(c)&&c>=0?c:1;var i={height:"slideDown"==visEffect?0:s.height,width:"slideRight"==visEffect?0:s.width,transform:"flip"==visEffect?g+"(90deg)":"inherit",backgroundColor:"transparent",position:"fixed",transitionDuration:f,transitionTimingFunction:u.setEffectType("effectType"),opacity:c,zIndex:9999999,top:Math.abs(a.height*s.height-s.height),left:Math.abs(a.width*s.width-s.width)};y.box={height:i.height,width:i.width,backgroundColor:i.backgroundColor,transform:i.transform};var m=t("<div/>").addClass(v).css(i).appendTo("body");if(setTimeout(function(){h=o,"object"==typeof o&&(h=o[r],r++,"undefined"==typeof o[r]&&(r=0)),m.css("background-color",h),"slideDown"==visEffect?m.css("height",s.height):"slideRight"==visEffect?m.css("width",s.width):"flip"==visEffect&&m.css("transform",g+"(0deg)")},d),visibility&&m.css("display","none"),a.width==n.width)if(clearInterval(e),a.height<n.height)E(),u.use("onEachRow");else{var p=t(".be_ground_effect"),w=0,b={},P={};if(visibility&&("slideDown"==visEffect?(b.height=0,P.height=s.height):"slideRight"==visEffect?(b.width=0,P.width=s.width):"flip"==visEffect?(b.transform=g+"(90deg)",P.transform=g+"(0deg)"):(b.opacity=0,P.opacity=c),p.css(b),p=p.toArray()),"random"==visibility){for(var T=p.length-1;T>=0;T--){var k=Math.floor(Math.random()*(T+1)),I=p[k];p[k]=p[T],p[T]=I}var N=setInterval(function(){"undefined"==typeof p[w]&&(clearInterval(N),u.use("onEnd")),t(p[w]).show().css(P),w++},a.time)}else if("edges"==visibility)var D=0,_=p.length-1,x=setInterval(function(){var e=[];0===Object.keys(p).length&&(clearInterval(x),u.use("onEnd"));for(var i=0;i<n.width;i++)"undefined"!=typeof p[_]&&(e.push(p[_]),delete p[_],_--),"undefined"!=typeof p[D]&&(e.push(p[D]),delete p[D],D++);t(e).show().css(P)},a.time);else u.use("onEnd");l&&t("."+v).hover(function(){switch(l){case"flip":t(this).css("transform","rotateY(90deg)");break;case"fade":t(this).css("opacity",0);break;case"slideRight":t(this).css("width",0);break;case"slideDown":t(this).css("height",0)}},function(){switch(l){case"flip":t(this).css("transform","rotateY(0deg)");break;case"fade":t(this).css("opacity",c);break;case"slideRight":t(this).css("width",s.width);break;case"slideDown":t(this).css("height",s.height)}})}else u.use("onEachColumn")},d)};E(),t(document).click(function(t){u.use(m.is(t.target)||0!==m.has(t.target).length?"onClickIn":"onClickOut")})}}}(jQuery);
